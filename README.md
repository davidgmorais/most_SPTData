# most_SPTData
Work related to I&D in managing and processing spatial and spatio-temporal data in the scope of the MoST Project.

## Description
The aim of the work was to solve the vertex correspondence problem (VCP) between polygons of segmented data with the goal of generating a set of correspondences between two polygons which represent a spatio-temporal event in real time in order to transform the discrete acquired data in continuous data. Furthermore, a set of data obtained (related to fire, icebergs and cells) was refined and prepared in a format easy to use by a third party.

For that, it was used a solution proposed by Luı́s Carlos in his thesis "Morphing techniques in spatio-temporal databases" ("Aplicação de técnicas de morphing em bases de dados espacio-temporais"), which detects a set of feature points (points normally associated with a region with high curvature on the shape of a polygon) and then generates the set of correspondences between each one. 

In addition to that, an optional method was developed which employs each polygon's bounding box, allowing us to detect feature points based on the relative distance of a certain point in the shape to an edge of said bounding box. It was concluded that this method, while working well for polygons that tend to maintain their area throughout the event (such as icebergs), is lackluster in the remaining cases (e.g. fires, whose burnt area tends to increase with time). 

The provided `vcp.py` script allows to solve this problem for a single pair of polygons and for multiple pairs of polygons, whether they do divide themselves during the event (which requires the help of an acyclic graph to be solved, such is the case of cells) or not.

## Usage
To solve the Vertex Correspondence Problem of a single polygon pair, vcp.py can be used as
```bash
$ python3 vcp.py [SOURCE_FILE] [TARGET_FILE]) [OPTIONS]
```
where SOURCE_FILE and TARGET_FILE are the paths to the WKT file containing the source and target polygon to be used, respectively.

Alternatively, to apply the script in the vertex correspondence problem of multiple polygons, vcp.py can be used as
```bash
$ python3 vcp.py [WORKING_DIR] [OPTIONS]
```
where WORKING_DIR is the path to the working directory to be used and that should contain .wkt files starting in 0, where in each is the WKT of the polygon in each frame.

Finally, the `vcp.py` script can employ the use of files representing an acyclic graph to solve the VCP of multiple polygons using
```bash
$ python3 vcp.py [WORKING_DIR] [MAN_TRACK] [OPTIONS]
```
where, similarly to above, the WORKING_DIR is the path to the directory with the files, and MAN_TRACK is the path to a .txt file representing the graph, according to a format described [here](https://public.celltrackingchallenge.net/documents/Naming%20and%20file%20content%20conventions.pdf).

## Datasets
In addition to the tool, there are example dataset in the `dataset` directory, which where analysed and have their correspondences exported to a `correspondences.json` GEO-JSON file. These datasets include data extracted from fires (in which the correspondences were generated by the default method, using the configs file on the directory), as well as icebergs and cells (in which the correspondences where generate by the bounding box method), and the necessary data/configs are provided in each directory.

## Limitations
Limitation include the overall speed of the tool, once that not all operations can be executed in parallel (especially in the case of cell analysis) as well as the parameters used to detect feature points being the same for every pari of polygons in a specific event, which might generate some dubious correspondences in some cases. 